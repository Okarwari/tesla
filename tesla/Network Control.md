## 网络协议

### 1 为什么要学习网络协议
网络协议代表了一段到另一端的约定，就像两个人直接沟通的语言，没有同样的沟通方式，是无法进行沟通的
### 2 网络协议的真正含义是什么?
先回答四个问题
1. TCP在三次握手的时候，IP和MAC层在干什么，都有什么操作呢。
2. A知道自己的中转站时B,那应该将B的IP地址放在那里呢。
3. 二层设备处理的数据包，有没有携带HTTP协议?
4. 使用SSH登录到云端服务器，都需要经过哪些过程。

对上述问题的自己理解。
1. TCP在三次握手的时候，同样需要通过IP层和MAC将SYN等信号发送给对方，而IP层只充当载体，
并不会对TCP造成什么影像，他们的任务就是分组，转发。
2. 转发过程中ip数据报不会存储中转IP,在中转站（路由表）中查找源IP地址的网段是否在路由表中，
若不在走默认路由。
3. 没有携带HTTP,HTTP时七层一些，到达二层时已经被封装成帧，不会对MAC层造成什么影响。
4. 建立TCP链接，发送ssh链接

#### 网络为什么要分层？
因为过于复杂所以需要分层，分层可以将其过程化。就像公司的层级划分。什么样的角色做什么样的事情
降低耦合。

### 



## 4 DHCP和PXE,IP是怎么来的，又是怎么没得
#### DHCP的几种状态
1. DHCP Discover
2. DHCP Re

1. 新人加入网络，广播发送DHCP Discover数据包，各个DHCP服务器接收（广播）
![](../assets/images/DHCP%20Discover.jpg)
2. DHCP服务器收到请求，回复DHCP Offer数据包,携带IP、子网掩码、网关、租用时间等信息。（广播）
![](../assets/images/DHCP%20Offer.jpg)
3. 客户端收到各个服务器回复的Offer，一般选最先到达的Offer，
回应DHCP服务器DHCP Request数据包（广播）
![](../assets/images/DHCP%20Request.jpg)
4. DHCP服务器收到Requset, 回复DHCP ACK确认消息，携带租用合约
![](../assets/images/DHCP%20ACK.jpg)
5. 当客户端IP租用时间超过50%时，再次向DHCP服务器发送DHCP Request数据包，
DHCP服务器回复DHCP ACK

#### 预启动执行环境
